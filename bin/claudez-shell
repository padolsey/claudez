#!/usr/bin/env bash
set -Eeuo pipefail
SELF_DIR="$(cd -- "$(dirname -- "${BASH_SOURCE[0]}")" && pwd)"
ROOT_DIR="$(cd "$SELF_DIR/.." && pwd)"
. "$ROOT_DIR/lib/common.sh"

NAME="${1:-}"; [ -z "$NAME" ] && die "Usage: claudez shell <name>"
CONTAINER_NAME="${NAME}-app"

need docker

# Open a normal shell as appuser without starting Claude
exec docker exec -it -u appuser "$CONTAINER_NAME" bash -l
